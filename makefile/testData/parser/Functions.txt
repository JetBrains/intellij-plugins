Makefile
  MakefileConditionalImpl(CONDITIONAL)
    PsiElement(ifdef)('ifdef')
    PsiWhiteSpace(' ')
    MakefileConditionImpl(CONDITION)
      MakefileIdentifierImpl(IDENTIFIER)
        PsiElement(chars)('TEST')
    PsiElement(EOL)('\n')
    PsiWhiteSpace('  ')
    MakefileBlockImpl(BLOCK)
      MakefileFunctionImpl(FUNCTION)
        PsiElement($)('$')
        PsiElement(()('(')
        MakefileFunctionNameImpl(FUNCTION_NAME)
          PsiElement(FUNCTION_NAME)('error')
        PsiWhiteSpace(' ')
        MakefileFunctionParamImpl(FUNCTION_PARAM)
          PsiElement(chars)('Some')
          PsiWhiteSpace(' ')
          MakefileFunctionNameImpl(FUNCTION_NAME)
            PsiElement(FUNCTION_NAME)('error')
        PsiElement())(')')
      PsiElement(EOL)('\n')
      PsiWhiteSpace('  ')
      MakefileFunctionImpl(FUNCTION)
        PsiElement($)('$')
        PsiElement(()('(')
        MakefileFunctionNameImpl(FUNCTION_NAME)
          PsiElement(FUNCTION_NAME)('warning')
        PsiWhiteSpace(' ')
        MakefileFunctionParamImpl(FUNCTION_PARAM)
          PsiElement(chars)('Some')
          PsiWhiteSpace(' ')
          MakefileFunctionNameImpl(FUNCTION_NAME)
            PsiElement(FUNCTION_NAME)('warning')
        PsiElement())(')')
      PsiElement(EOL)('\n')
      PsiWhiteSpace('  ')
      MakefileFunctionImpl(FUNCTION)
        PsiElement($)('$')
        PsiElement(()('(')
        MakefileFunctionNameImpl(FUNCTION_NAME)
          PsiElement(FUNCTION_NAME)('info')
        PsiWhiteSpace(' ')
        MakefileFunctionParamImpl(FUNCTION_PARAM)
          PsiElement(chars)('test')
          PsiWhiteSpace(' ')
          PsiElement(chars)('is')
          PsiWhiteSpace(' ')
          MakefileVariableUsageImpl(VARIABLE_USAGE)
            PsiElement($)('$')
            PsiElement(()('(')
            PsiElement(chars)('TEST')
            PsiElement())(')')
        PsiElement())(')')
      PsiElement(EOL)('\n')
      PsiWhiteSpace('  ')
      MakefileVariableAssignmentImpl(VARIABLE_ASSIGNMENT)
        MakefileVariableImpl(VARIABLE)
          MakefileIdentifierImpl(IDENTIFIER)
            PsiElement(chars)('CC')
        PsiElement(=)('=')
        MakefileVariableValueImpl(VARIABLE_VALUE)
          PsiElement($)('$')
          PsiElement(()('(')
          PsiElement(FUNCTION_NAME)('shell')
          PsiWhiteSpace(' ')
          PsiElement(chars)('which')
          PsiWhiteSpace(' ')
          PsiElement(chars)('gcc')
          PsiElement())(')')
      PsiElement(EOL)('\n')
      PsiWhiteSpace('  ')
      MakefileFunctionImpl(FUNCTION)
        PsiElement($)('$')
        PsiElement(()('(')
        MakefileFunctionNameImpl(FUNCTION_NAME)
          PsiElement(FUNCTION_NAME)('firstword')
        PsiWhiteSpace(' ')
        MakefileFunctionParamImpl(FUNCTION_PARAM)
          MakefileFunctionImpl(FUNCTION)
            PsiElement($)('$')
            PsiElement(()('(')
            MakefileFunctionNameImpl(FUNCTION_NAME)
              PsiElement(FUNCTION_NAME)('wildcard')
            PsiWhiteSpace(' ')
            MakefileFunctionParamImpl(FUNCTION_PARAM)
              MakefileFunctionImpl(FUNCTION)
                PsiElement($)('$')
                PsiElement(()('(')
                MakefileFunctionNameImpl(FUNCTION_NAME)
                  PsiElement(FUNCTION_NAME)('addsuffix')
                PsiWhiteSpace(' ')
                MakefileFunctionParamImpl(FUNCTION_PARAM)
                  PsiElement(chars)('/')
                  MakefileVariableUsageImpl(VARIABLE_USAGE)
                    PsiElement($)('$')
                    PsiElement(()('(')
                    PsiElement(chars)('1')
                    PsiElement())(')')
                  PsiElement(,)(',')
                  PsiWhiteSpace(' ')
                  MakefileFunctionImpl(FUNCTION)
                    PsiElement($)('$')
                    PsiElement(()('(')
                    MakefileFunctionNameImpl(FUNCTION_NAME)
                      PsiElement(FUNCTION_NAME)('subst')
                    PsiWhiteSpace(' ')
                    MakefileFunctionParamImpl(FUNCTION_PARAM)
                      PsiElement(:)(':')
                      PsiElement(,)(',')
                      PsiWhiteSpace(' ')
                      PsiElement(,)(',')
                      PsiWhiteSpace(' ')
                      MakefileVariableUsageImpl(VARIABLE_USAGE)
                        PsiElement($)('$')
                        PsiElement(()('(')
                        PsiElement(chars)('PATH')
                        PsiElement())(')')
                    PsiElement())(')')
                PsiElement())(')')
            PsiElement())(')')
        PsiElement())(')')
      PsiElement(EOL)('\n')
    PsiElement(endif)('endif')
  PsiElement(EOL)('\n\n')
  MakefileFunctionImpl(FUNCTION)
    PsiElement($)('$')
    PsiElement(()('(')
    MakefileFunctionNameImpl(FUNCTION_NAME)
      PsiElement(FUNCTION_NAME)('foreach')
    PsiWhiteSpace(' ')
    MakefileFunctionParamImpl(FUNCTION_PARAM)
      MakefileFunctionNameImpl(FUNCTION_NAME)
        PsiElement(FUNCTION_NAME)('file')
      PsiElement(,)(',')
      PsiWhiteSpace(' ')
      MakefileVariableUsageImpl(VARIABLE_USAGE)
        PsiElement($)('$')
        PsiElement({)('{')
        PsiElement(chars)('FILE_LIST')
        PsiElement(})('}')
      PsiElement(,)(',')
      PsiWhiteSpace(' ')
      MakefileFunctionImpl(FUNCTION)
        PsiElement($)('$')
        PsiElement(()('(')
        MakefileFunctionNameImpl(FUNCTION_NAME)
          PsiElement(FUNCTION_NAME)('call')
        PsiWhiteSpace(' ')
        MakefileFunctionParamImpl(FUNCTION_PARAM)
          PsiElement(chars)('MyMacro')
          PsiElement(,)(',')
          PsiWhiteSpace(' ')
          MakefileVariableUsageImpl(VARIABLE_USAGE)
            PsiElement($)('$')
            PsiElement({)('{')
            PsiElement(FUNCTION_NAME)('file')
            PsiElement(})('}')
        PsiElement())(')')
    PsiElement())(')')
  PsiElement(EOL)('\n')
  MakefileFunctionImpl(FUNCTION)
    PsiElement($)('$')
    PsiElement(()('(')
    MakefileFunctionNameImpl(FUNCTION_NAME)
      PsiElement(FUNCTION_NAME)('call')
    PsiWhiteSpace(' ')
    MakefileFunctionParamImpl(FUNCTION_PARAM)
      PsiElement(chars)('locate_lib')
      PsiElement(,)(',')
      PsiWhiteSpace(' ')
      MakefileVariableUsageImpl(VARIABLE_USAGE)
        PsiElement($)('$')
        PsiElement(()('(')
        PsiElement(chars)('lib_name')
        PsiElement())(')')
    PsiElement())(')')