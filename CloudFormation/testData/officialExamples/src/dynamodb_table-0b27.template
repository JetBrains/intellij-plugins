{
    "AWSTemplateFormatVersion" : "2010-09-09",
 
    "Description" : "AWS CloudFormation Sample Template: This template demonstrates the creation of a DynamoDB table.",
 
    "Parameters" : {
      "HaskKeyElementName" : {
        "Description" : "HashType PrimaryKey Name",
        "Type" : "String",
        "AllowedPattern" : "[a-zA-Z0-9]*",
        "MinLength": "1",
        "MaxLength": "2048",
        "ConstraintDescription" : "must contain only alphanumberic characters"
      },
      "HaskKeyElementType" : {
        "Description" : "HashType PrimaryKey Type",
        "Type" : "String",
        "Default" : "S",
        "AllowedPattern" : "[S|N]",
        "MinLength": "1",
        "MaxLength": "1",
        "ConstraintDescription" : "must be either S or N"
      },
      "ReadCapacityUnits" : {
        "Description" : "Provisioned read throughput",
        "Type" : "Number",
        "Default" : "5",
        "MinValue": "5",
        "MaxValue": "10000",
        "ConstraintDescription" : "should be between 5 and 10000"
      },
      "WriteCapacityUnits" : {
        "Description" : "Provisioned write throughput",
        "Type" : "Number",
        "Default" : "10",
        "MinValue": "5",
        "MaxValue": "10000",
        "ConstraintDescription" : "should be between 5 and 10000"
      }
    },
 
    "Resources" : {
        "myDynamoDBTable" : {
             "Type" : "AWS::DynamoDB::Table",
              "Properties" : {
                  "KeySchema" : {
                     "HashKeyElement": {
                        "AttributeName" : {"Ref" : "HaskKeyElementName"},
                        "AttributeType" : {"Ref" : "HaskKeyElementType"}
                     }
                  },
                  "ProvisionedThroughput" : {
                     "ReadCapacityUnits" : {"Ref" : "ReadCapacityUnits"},
                     "WriteCapacityUnits" : {"Ref" : "WriteCapacityUnits"}
                 }                              
              }
        }
   },
 
   "Outputs" : {
     "TableName" : {
       "Value" : {"Ref" : "myDynamoDBTable"},
       "Description" : "Table name of the newly create DynamoDB table"
     }
   }
 
}

