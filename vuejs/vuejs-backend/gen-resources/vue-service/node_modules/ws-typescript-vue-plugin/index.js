(()=>{"use strict";var e={575:function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){if(r===undefined)r=n;var i=Object.getOwnPropertyDescriptor(t,n);if(!i||("get"in i?!t.__esModule:i.writable||i.configurable)){i={enumerable:true,get:function(){return t[n]}}}Object.defineProperty(e,r,i)}:function(e,t,n,r){if(r===undefined)r=n;e[r]=t[n]});var i=this&&this.__exportStar||function(e,t){for(var n in e)if(n!=="default"&&!Object.prototype.hasOwnProperty.call(t,n))r(t,e,n)};Object.defineProperty(t,"__esModule",{value:true});t.defaultMapperFactory=t.SourceMap=void 0;t.createLanguage=createLanguage;t.forEachEmbeddedCode=forEachEmbeddedCode;var s=n(257);Object.defineProperty(t,"SourceMap",{enumerable:true,get:function(){return s.SourceMap}});i(n(462),t);i(n(541),t);i(n(942),t);i(n(18),t);const a=n(257);const o=n(541);const defaultMapperFactory=e=>new a.SourceMap(e);t.defaultMapperFactory=defaultMapperFactory;function createLanguage(e,n,r,i){const s=new WeakMap;const a=new WeakMap;const c=new WeakMap;const f={mapperFactory:t.defaultMapperFactory,plugins:e,scripts:{fromVirtualCode(e){return s.get(e)},get(e,t=true,i=false){r(e,t,i);const s=n.get(e);if(s?.isAssociationDirty){this.set(e,s.snapshot,s.languageId)}return n.get(e)},set(t,r,i,a=e){if(!i){for(const n of e){i=n.getLanguageId?.(t);if(i){break}}}if(!i){console.warn(`languageId not found for ${String(t)}`);return}let o=false;for(const n of e){if(n.isAssociatedFileOnly?.(t,i)){o=true;break}}if(n.has(t)){const e=n.get(t);if(e.languageId!==i||e.associatedOnly!==o){this.delete(t);triggerTargetsDirty(e);return this.set(t,r,i)}else if(o){if(e.snapshot!==r){e.snapshot=r;triggerTargetsDirty(e)}}else if(e.isAssociationDirty||e.snapshot!==r){if(e.snapshot!==r){e.snapshot=r;triggerTargetsDirty(e)}const n=prepareCreateVirtualCode(e);if(e.generated){const{updateVirtualCode:a,createVirtualCode:o}=e.generated.languagePlugin;const c=a?a(t,e.generated.root,r,n):o?.(t,i,r,n);if(c){e.generated.root=c;e.generated.embeddedCodes.clear();for(const t of forEachEmbeddedCode(e.generated.root)){s.set(t,e);e.generated.embeddedCodes.set(t.id,t)}return e}else{this.delete(t);return}}}else{return e}}else{const e={id:t,languageId:i,snapshot:r,associatedIds:new Set,targetIds:new Set,associatedOnly:o};n.set(t,e);if(o){return e}for(const n of a){const a=n.createVirtualCode?.(t,i,r,prepareCreateVirtualCode(e));if(a){e.generated={root:a,languagePlugin:n,embeddedCodes:new Map};for(const t of forEachEmbeddedCode(a)){s.set(t,e);e.generated.embeddedCodes.set(t.id,t)}break}}return e}},delete(e){const t=n.get(e);if(t){t.generated?.languagePlugin.disposeVirtualCode?.(e,t.generated.root);n.delete(e);triggerTargetsDirty(t)}}},maps:{get(e,t){let n=a.get(e.snapshot);if(!n){a.set(e.snapshot,n=new WeakMap)}if(!n.has(t.snapshot)){const r=e.associatedScriptMappings?.get(t.id)??e.mappings;n.set(t.snapshot,f.mapperFactory(r))}return n.get(t.snapshot)},*forEach(e){const t=s.get(e);yield[t,this.get(e,t)];if(e.associatedScriptMappings){for(const[t]of e.associatedScriptMappings){const r=n.get(t);if(r){yield[r,this.get(e,r)]}}}}},linkedCodeMaps:{get(e){const t=s.get(e);let n=c.get(e.snapshot);if(n?.[0]!==t.snapshot){c.set(e.snapshot,n=[t.snapshot,e.linkedCodeMappings?new o.LinkedCodeMap(e.linkedCodeMappings):undefined])}return n[1]}}};return f;function triggerTargetsDirty(e){e.targetIds.forEach((e=>{const t=n.get(e);if(t){t.isAssociationDirty=true;i?.(t.id)}}))}function prepareCreateVirtualCode(e){for(const t of e.associatedIds){n.get(t)?.targetIds.delete(e.id)}e.associatedIds.clear();e.isAssociationDirty=false;return{getAssociatedScript(t){r(t,true,true);const i=n.get(t);if(i){i.targetIds.add(e.id);e.associatedIds.add(i.id)}return i}}}}function*forEachEmbeddedCode(e){yield e;if(e.embeddedCodes){for(const t of e.embeddedCodes){yield*forEachEmbeddedCode(t)}}}},462:(e,t)=>{Object.defineProperty(t,"__esModule",{value:true});t.isHoverEnabled=isHoverEnabled;t.isInlayHintsEnabled=isInlayHintsEnabled;t.isCodeLensEnabled=isCodeLensEnabled;t.isMonikerEnabled=isMonikerEnabled;t.isInlineValueEnabled=isInlineValueEnabled;t.isSemanticTokensEnabled=isSemanticTokensEnabled;t.isCallHierarchyEnabled=isCallHierarchyEnabled;t.isTypeHierarchyEnabled=isTypeHierarchyEnabled;t.isRenameEnabled=isRenameEnabled;t.isDefinitionEnabled=isDefinitionEnabled;t.isTypeDefinitionEnabled=isTypeDefinitionEnabled;t.isReferencesEnabled=isReferencesEnabled;t.isImplementationEnabled=isImplementationEnabled;t.isHighlightEnabled=isHighlightEnabled;t.isSymbolsEnabled=isSymbolsEnabled;t.isFoldingRangesEnabled=isFoldingRangesEnabled;t.isSelectionRangesEnabled=isSelectionRangesEnabled;t.isLinkedEditingEnabled=isLinkedEditingEnabled;t.isColorEnabled=isColorEnabled;t.isDocumentLinkEnabled=isDocumentLinkEnabled;t.isDiagnosticsEnabled=isDiagnosticsEnabled;t.isCodeActionsEnabled=isCodeActionsEnabled;t.isFormattingEnabled=isFormattingEnabled;t.isCompletionEnabled=isCompletionEnabled;t.isAutoInsertEnabled=isAutoInsertEnabled;t.isSignatureHelpEnabled=isSignatureHelpEnabled;t.shouldReportDiagnostics=shouldReportDiagnostics;t.resolveRenameNewName=resolveRenameNewName;t.resolveRenameEditText=resolveRenameEditText;t.findOverlapCodeRange=findOverlapCodeRange;function isHoverEnabled(e){return!!e.semantic}function isInlayHintsEnabled(e){return!!e.semantic}function isCodeLensEnabled(e){return!!e.semantic}function isMonikerEnabled(e){return!!e.semantic}function isInlineValueEnabled(e){return!!e.semantic}function isSemanticTokensEnabled(e){return typeof e.semantic==="object"?e.semantic.shouldHighlight?.()??true:!!e.semantic}function isCallHierarchyEnabled(e){return!!e.navigation}function isTypeHierarchyEnabled(e){return!!e.navigation}function isRenameEnabled(e){return typeof e.navigation==="object"?e.navigation.shouldRename?.()??true:!!e.navigation}function isDefinitionEnabled(e){return!!e.navigation}function isTypeDefinitionEnabled(e){return!!e.navigation}function isReferencesEnabled(e){return!!e.navigation}function isImplementationEnabled(e){return!!e.navigation}function isHighlightEnabled(e){return typeof e.navigation==="object"?e.navigation.shouldHighlight?.()??true:!!e.navigation}function isSymbolsEnabled(e){return!!e.structure}function isFoldingRangesEnabled(e){return!!e.structure}function isSelectionRangesEnabled(e){return!!e.structure}function isLinkedEditingEnabled(e){return!!e.structure}function isColorEnabled(e){return!!e.structure}function isDocumentLinkEnabled(e){return!!e.structure}function isDiagnosticsEnabled(e){return!!e.verification}function isCodeActionsEnabled(e){return!!e.verification}function isFormattingEnabled(e){return!!e.format}function isCompletionEnabled(e){return!!e.completion}function isAutoInsertEnabled(e){return!!e.completion}function isSignatureHelpEnabled(e){return!!e.completion}function shouldReportDiagnostics(e,t,n){return typeof e.verification==="object"?e.verification.shouldReport?.(t,n)??true:!!e.verification}function resolveRenameNewName(e,t){return typeof t.navigation==="object"?t.navigation.resolveRenameNewName?.(e)??e:e}function resolveRenameEditText(e,t){return typeof t.navigation==="object"?t.navigation.resolveRenameEditText?.(e)??e:e}function findOverlapCodeRange(e,t,n,r){let i;let s;for(const[t,s]of n.toGeneratedLocation(e)){if(r(s.data)){i=t;break}}for(const[e,i]of n.toGeneratedLocation(t)){if(r(i.data)){s=e;break}}if(i===undefined||s===undefined){for(const a of n.mappings){if(r(a.data)){const n=a.sourceOffsets[0];const r=a.sourceOffsets[a.sourceOffsets.length-1]+a.lengths[a.lengths.length-1];const o=getOverlapRange(e,t,n,r);if(o){const e=o.start-n+a.generatedOffsets[0];const t=(a.generatedLengths??a.lengths)[a.generatedOffsets.length-1];const r=Math.min(o.end-a.sourceOffsets[a.sourceOffsets.length-1],t);const c=a.generatedOffsets[a.generatedOffsets.length-1]+r;i=i===undefined?e:Math.min(i,e);s=s===undefined?c:Math.max(s,c)}}}}if(i!==undefined&&s!==undefined){return{start:i,end:s}}}function getOverlapRange(e,t,n,r){const i=Math.max(e,n);const s=Math.min(t,r);if(i>s){return undefined}return{start:i,end:s}}},541:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:true});t.LinkedCodeMap=void 0;const r=n(257);class LinkedCodeMap extends r.SourceMap{*getLinkedOffsets(e){for(const t of this.toGeneratedLocation(e)){yield t[0]}for(const t of this.toSourceLocation(e)){yield t[0]}}}t.LinkedCodeMap=LinkedCodeMap},942:(e,t)=>{Object.defineProperty(t,"__esModule",{value:true})},18:(e,t)=>{Object.defineProperty(t,"__esModule",{value:true});t.FileMap=void 0;class FileMap extends Map{constructor(e){super();this.caseSensitive=e;this.originalFileNames=new Map}keys(){return this.originalFileNames.values()}get(e){return super.get(this.normalizeId(e))}has(e){return super.has(this.normalizeId(e))}set(e,t){this.originalFileNames.set(this.normalizeId(e),e);return super.set(this.normalizeId(e),t)}delete(e){this.originalFileNames.delete(this.normalizeId(e));return super.delete(this.normalizeId(e))}clear(){this.originalFileNames.clear();return super.clear()}normalizeId(e){return this.caseSensitive?e:e.toLowerCase()}}t.FileMap=FileMap},257:function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){if(r===undefined)r=n;var i=Object.getOwnPropertyDescriptor(t,n);if(!i||("get"in i?!t.__esModule:i.writable||i.configurable)){i={enumerable:true,get:function(){return t[n]}}}Object.defineProperty(e,r,i)}:function(e,t,n,r){if(r===undefined)r=n;e[r]=t[n]});var i=this&&this.__exportStar||function(e,t){for(var n in e)if(n!=="default"&&!Object.prototype.hasOwnProperty.call(t,n))r(t,e,n)};Object.defineProperty(t,"__esModule",{value:true});i(n(388),t);i(n(296),t)},216:(e,t)=>{Object.defineProperty(t,"__esModule",{value:true});t.binarySearch=binarySearch;function binarySearch(e,t){let n=0;let r=e.length-1;let i;while(n<=r){const s=Math.floor((n+r)/2);const a=e[s];if(a<t){n=s+1}else if(a>t){r=s-1}else{n=s;r=s;i=s;break}}const s=Math.max(Math.min(n,r,e.length-1),0);const a=Math.min(Math.max(n,r,0),e.length-1);return{low:s,high:a,match:i}}},388:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:true});t.SourceMap=void 0;const r=n(216);const i=n(296);class SourceMap{constructor(e){this.mappings=e}toSourceRange(e,t,n,r){return this.findMatchingStartEnd(e,t,n,"generatedOffsets",r)}toGeneratedRange(e,t,n,r){return this.findMatchingStartEnd(e,t,n,"sourceOffsets",r)}toSourceLocation(e,t){return this.findMatchingOffsets(e,"generatedOffsets",t)}toGeneratedLocation(e,t){return this.findMatchingOffsets(e,"sourceOffsets",t)}*findMatchingOffsets(e,t,n){const s=this.getMemoBasedOnRange(t);if(s.offsets.length===0){return}const{low:a,high:o}=(0,r.binarySearch)(s.offsets,e);const c=new Set;const f=t==="sourceOffsets"?"generatedOffsets":"sourceOffsets";for(let r=a;r<=o;r++){for(const a of s.mappings[r]){if(c.has(a)){continue}c.add(a);if(n&&!n(a.data)){continue}const r=(0,i.translateOffset)(e,a[t],a[f],getLengths(a,t),getLengths(a,f));if(r!==undefined){yield[r,a]}}}}*findMatchingStartEnd(e,t,n,r,s){const a=r==="sourceOffsets"?"generatedOffsets":"sourceOffsets";const o=[];let c=false;for(const[n,f]of this.findMatchingOffsets(e,r)){if(s&&!s(f.data)){continue}o.push([n,f]);const e=(0,i.translateOffset)(t,f[r],f[a],getLengths(f,r),getLengths(f,a));if(e!==undefined){c=true;yield[n,e,f,f]}}if(!c&&n){for(const[e,n]of o){for(const[i,a]of this.findMatchingOffsets(t,r)){if(s&&!s(a.data)||i<e){continue}yield[e,i,n,a];break}}}}getMemoBasedOnRange(e){return e==="sourceOffsets"?this.sourceCodeOffsetsMemo??=this.createMemo("sourceOffsets"):this.generatedCodeOffsetsMemo??=this.createMemo("generatedOffsets")}createMemo(e){const t=new Set;for(const n of this.mappings){for(let r=0;r<n[e].length;r++){t.add(n[e][r]);t.add(n[e][r]+getLengths(n,e)[r])}}const n=[...t].sort(((e,t)=>e-t));const i=n.map((()=>new Set));for(const t of this.mappings){for(let s=0;s<t[e].length;s++){const a=(0,r.binarySearch)(n,t[e][s]).match;const o=(0,r.binarySearch)(n,t[e][s]+getLengths(t,e)[s]).match;for(let e=a;e<=o;e++){i[e].add(t)}}}return{offsets:n,mappings:i}}}t.SourceMap=SourceMap;function getLengths(e,t){return t==="sourceOffsets"?e.lengths:e.generatedLengths??e.lengths}},296:(e,t)=>{Object.defineProperty(t,"__esModule",{value:true});t.translateOffset=translateOffset;let n=false;function translateOffset(e,t,r,i,s=i){const a=t.every(((e,n)=>n===0||t[n-1]<=e));if(!a){for(let n=0;n<t.length;n++){const a=t[n];const o=i[n];if(e>=a&&e<=a+o){const t=s[n];const i=r[n];let o=Math.min(e-a,t);return i+o}}if(!n){n=true;console.warn("fromOffsets should be sorted in ascending order")}}let o=0;let c=t.length-1;while(o<=c){const n=Math.floor((o+c)/2);const a=t[n];const f=i[n];if(e>=a&&e<=a+f){const t=s[n];const i=r[n];let o=Math.min(e-a,t);return i+o}else if(e<a){c=n-1}else{o=n+1}}}},311:(e,t)=>{Object.defineProperty(t,"__esModule",{value:true});t.resolveFileLanguageId=resolveFileLanguageId;function resolveFileLanguageId(e){const t=e.split(".").pop();switch(t){case"js":return"javascript";case"cjs":return"javascript";case"mjs":return"javascript";case"ts":return"typescript";case"cts":return"typescript";case"mts":return"typescript";case"jsx":return"javascriptreact";case"tsx":return"typescriptreact";case"json":return"json"}}},279:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:true});t.decorateLanguageServiceHost=decorateLanguageServiceHost;t.searchExternalFiles=searchExternalFiles;const r=n(23);const i=n(316);function decorateLanguageServiceHost(e,t,n){const s=t.plugins.map((e=>e.typescript?.extraFileExtensions.map((e=>"."+e.extension))??[])).flat();const a=new Map;const o=new Set;const c=n.readDirectory?.bind(n);const f=n.resolveModuleNameLiterals?.bind(n);const l=n.resolveModuleNames?.bind(n);const d=n.getScriptSnapshot.bind(n);const u=n.getScriptKind?.bind(n);if(c){n.readDirectory=(e,t,n,r,i)=>{if(t){for(const e of s){if(!t.includes(e)){t=[...t,e]}}}return c(e,t,n,r,i)}}if(s.length){const a=(0,r.createResolveModuleName)(e,e.sys.getFileSize,n,t.plugins,(e=>t.scripts.get(e)));const o=n.getModuleResolutionCache?.();if(f){n.resolveModuleNameLiterals=(t,r,c,l,d,...u)=>{const g=(0,i.fixupImpliedNodeFormatForFile)(e,s,d,o?.getPackageJsonInfoCache(),n,l);try{if(t.every((e=>!s.some((t=>e.text.endsWith(t)))))){return f(t,r,c,l,d,...u)}return t.map((t=>{const n=e.getModeForUsageLocation(d,t,l);return a(t.text,r,l,o,c,n)}))}finally{g?.()}}}if(l){n.resolveModuleNames=(e,t,n,r,i,c)=>{if(e.every((e=>!s.some((t=>e.endsWith(t)))))){return l(e,t,n,r,i,c)}return e.map((e=>a(e,t,i,o,r).resolvedModule))}}}n.getScriptSnapshot=e=>{const t=updateVirtualScript(e,true);if(t){return t.snapshot}return d(e)};if(u){n.getScriptKind=e=>{const t=updateVirtualScript(e,false);if(t){return t.scriptKind}return u(e)}}function updateVirtualScript(r,i){if(o.has(r)){return}let s;try{s=n.getScriptVersion(r)}catch{o.add(r)}if(s===undefined){return}let c=a.get(r);if(!c||c[0]!==s){c=[s];const n=t.scripts.get(r,undefined,i);if(n?.generated){const t=n.generated.languagePlugin.typescript?.getServiceScript(n.generated.root);if(t){if(t.preventLeadingOffset){c[1]={extension:t.extension,scriptKind:t.scriptKind,snapshot:t.code.snapshot}}else{const r=n.snapshot.getText(0,n.snapshot.getLength());const i=r.split("\n").map((e=>" ".repeat(e.length))).join("\n")+t.code.snapshot.getText(0,t.code.snapshot.getLength());c[1]={extension:t.extension,scriptKind:t.scriptKind,snapshot:e.ScriptSnapshot.fromString(i)}}}if(n.generated.languagePlugin.typescript?.getExtraServiceScripts){console.warn("getExtraServiceScripts() is not available in TS plugin.")}}a.set(r,c)}return c[1]}}function searchExternalFiles(e,t,n){if(t.projectKind!==e.server.ProjectKind.Configured){return[]}const r=t.getProjectName();const i=e.readJsonConfigFile(r,t.readFile.bind(t));const s={useCaseSensitiveFileNames:t.useCaseSensitiveFileNames(),fileExists:t.fileExists.bind(t),readFile:t.readFile.bind(t),readDirectory:(...e)=>{e[1]=n;return t.readDirectory(...e)}};const a=e.parseJsonSourceFileConfigFileContent(i,s,t.getCurrentDirectory());return a.fileNames}},970:(e,t)=>{Object.defineProperty(t,"__esModule",{value:true});t.dedupeDocumentSpans=dedupeDocumentSpans;function dedupeDocumentSpans(e){return dedupe(e,(e=>[e.fileName,e.textSpan.start,e.textSpan.length].join(":")))}function dedupe(e,t){const n=new Map;for(const r of e.reverse()){n.set(t(r),r)}return[...n.values()]}},340:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:true});t.createProxyLanguageService=createProxyLanguageService;const r=n(575);const i=n(970);const s=n(405);const a=n(316);const o=/\\/g;function createProxyLanguageService(e){const t=new Map;let n;return{initialize(t){n=(n,r)=>{switch(r){case"getNavigationTree":return getNavigationTree(t,n[r]);case"getOutliningSpans":return getOutliningSpans(t,n[r]);case"getFormattingEditsForDocument":return getFormattingEditsForDocument(t,n[r]);case"getFormattingEditsForRange":return getFormattingEditsForRange(t,n[r]);case"getFormattingEditsAfterKeystroke":return getFormattingEditsAfterKeystroke(t,n[r]);case"getEditsForFileRename":return getEditsForFileRename(t,n[r]);case"getLinkedEditingRangeAtPosition":return getLinkedEditingRangeAtPosition(t,n[r]);case"prepareCallHierarchy":return prepareCallHierarchy(t,n[r]);case"provideCallHierarchyIncomingCalls":return provideCallHierarchyIncomingCalls(t,n[r]);case"provideCallHierarchyOutgoingCalls":return provideCallHierarchyOutgoingCalls(t,n[r]);case"organizeImports":return organizeImports(t,n[r]);case"getQuickInfoAtPosition":return getQuickInfoAtPosition(t,n[r]);case"getSignatureHelpItems":return getSignatureHelpItems(t,n[r]);case"getDocumentHighlights":return getDocumentHighlights(t,n[r]);case"getApplicableRefactors":return getApplicableRefactors(t,n[r]);case"getEditsForRefactor":return getEditsForRefactor(t,n[r]);case"getCombinedCodeFix":return getCombinedCodeFix(t,n[r]);case"getRenameInfo":return getRenameInfo(t,n[r]);case"getCodeFixesAtPosition":return getCodeFixesAtPosition(t,n[r]);case"getEncodedSemanticClassifications":return getEncodedSemanticClassifications(t,n[r]);case"getSyntacticDiagnostics":return getSyntacticDiagnostics(t,e,n[r]);case"getSemanticDiagnostics":return getSemanticDiagnostics(t,e,n[r]);case"getSuggestionDiagnostics":return getSuggestionDiagnostics(t,e,n[r]);case"getDefinitionAndBoundSpan":return getDefinitionAndBoundSpan(t,n[r]);case"findReferences":return findReferences(t,n[r]);case"getDefinitionAtPosition":return getDefinitionAtPosition(t,n[r]);case"getTypeDefinitionAtPosition":return getTypeDefinitionAtPosition(t,n[r]);case"getImplementationAtPosition":return getImplementationAtPosition(t,n[r]);case"findRenameLocations":return findRenameLocations(t,n[r]);case"getReferencesAtPosition":return getReferencesAtPosition(t,n[r]);case"getCompletionsAtPosition":return getCompletionsAtPosition(t,n[r]);case"getCompletionEntryDetails":return getCompletionEntryDetails(t,n[r]);case"provideInlayHints":return provideInlayHints(t,n[r]);case"getFileReferences":return getFileReferences(t,n[r]);case"getNavigateToItems":return getNavigateToItems(t,n[r])}}},proxy:new Proxy(e,{get(e,r,i){if(n){if(!t.has(r)){t.set(r,n(e,r))}const i=t.get(r);if(i){return i}}return Reflect.get(e,r,i)},set(e,t,n,r){return Reflect.set(e,t,n,r)}})}}function getNavigationTree(e,t){return n=>{const r=n.replace(o,"/");const[i,s]=(0,a.getServiceScript)(e,r);if(i||s?.associatedOnly){const e=t(s.id);e.childItems=undefined;return e}else{return t(r)}}}function getOutliningSpans(e,t){return n=>{const r=n.replace(o,"/");const[i,s]=(0,a.getServiceScript)(e,r);if(i||s?.associatedOnly){return[]}else{return t(r)}}}function getFormattingEditsForDocument(e,t){return(n,i)=>{const c=n.replace(o,"/");const[f,l,d]=(0,a.getServiceScript)(e,c);if(l?.associatedOnly){return[]}if(f){const n=e.maps.get(f.code,l);if(!n.mappings.some((e=>(0,r.isFormattingEnabled)(e.data)))){return[]}const a=t(l.id,i);return a.map((t=>(0,s.transformTextChange)(d,e,f,t,false,r.isFormattingEnabled)?.[1])).filter((e=>!!e))}else{return t(c,i)}}}function getFormattingEditsForRange(e,t){return(n,i,c,f)=>{const l=n.replace(o,"/");const[d,u,g]=(0,a.getServiceScript)(e,l);if(u?.associatedOnly){return[]}if(d){const n=(0,s.toGeneratedRange)(e,d,g,i,c,r.isFormattingEnabled);if(n!==undefined){const i=t(u.id,n[0],n[1],f);return i.map((t=>(0,s.transformTextChange)(g,e,d,t,false,r.isFormattingEnabled)?.[1])).filter((e=>!!e))}return[]}else{return t(l,i,c,f)}}}function getFormattingEditsAfterKeystroke(e,t){return(n,i,c,f)=>{const l=n.replace(o,"/");const[d,u,g]=(0,a.getServiceScript)(e,l);if(u?.associatedOnly){return[]}if(d){const n=(0,s.toGeneratedOffset)(e,d,g,i,r.isFormattingEnabled);if(n!==undefined){const i=t(u.id,n,c,f);return i.map((t=>(0,s.transformTextChange)(g,e,d,t,false,r.isFormattingEnabled)?.[1])).filter((e=>!!e))}return[]}else{return t(l,i,c,f)}}}function getEditsForFileRename(e,t){return(n,i,a,o)=>{const c=t(n,i,a,o);return(0,s.transformFileTextChanges)(e,c,false,r.isRenameEnabled)}}function getLinkedEditingRangeAtPosition(e,t){return(n,i)=>{const c=n.replace(o,"/");const[f,l,d]=(0,a.getServiceScript)(e,c);if(l?.associatedOnly){return undefined}if(f){const n=(0,s.toGeneratedOffset)(e,f,d,i,r.isLinkedEditingEnabled);if(n!==undefined){const i=t(l.id,n);if(i){return{ranges:i.ranges.map((t=>(0,s.transformTextSpan)(d,e,f,t,false,r.isLinkedEditingEnabled)?.[1])).filter((e=>!!e)),wordPattern:i.wordPattern}}}}else{return t(c,i)}}}function prepareCallHierarchy(e,t){return(n,i)=>{const c=n.replace(o,"/");const[f,l,d]=(0,a.getServiceScript)(e,c);if(l?.associatedOnly){return undefined}if(f){const n=(0,s.toGeneratedOffset)(e,f,d,i,r.isCallHierarchyEnabled);if(n!==undefined){const i=t(l.id,n);if(Array.isArray(i)){return i.map((t=>(0,s.transformCallHierarchyItem)(e,t,true,r.isCallHierarchyEnabled)))}else if(i){return(0,s.transformCallHierarchyItem)(e,i,true,r.isCallHierarchyEnabled)}}}else{return t(c,i)}}}function provideCallHierarchyIncomingCalls(e,t){return(n,i)=>{let c=[];const f=n.replace(o,"/");const[l,d,u]=(0,a.getServiceScript)(e,f);if(d?.associatedOnly){return[]}if(l){const n=(0,s.toGeneratedOffset)(e,l,u,i,r.isCallHierarchyEnabled);if(n!==undefined){c=t(d.id,n)}}else{c=t(f,i)}return c.map((t=>{const n=(0,s.transformCallHierarchyItem)(e,t.from,true,r.isCallHierarchyEnabled);const i=t.fromSpans.map((n=>(0,s.transformSpan)(e,t.from.file,n,true,r.isCallHierarchyEnabled)?.textSpan)).filter((e=>!!e));return{from:n,fromSpans:i}}))}}function provideCallHierarchyOutgoingCalls(e,t){return(n,i)=>{let c=[];const f=n.replace(o,"/");const[l,d,u]=(0,a.getServiceScript)(e,f);if(d?.associatedOnly){return[]}if(l){const n=(0,s.toGeneratedOffset)(e,l,u,i,r.isCallHierarchyEnabled);if(n!==undefined){c=t(d.id,n)}}else{c=t(f,i)}return c.map((t=>{const n=(0,s.transformCallHierarchyItem)(e,t.to,true,r.isCallHierarchyEnabled);const i=t.fromSpans.map((t=>l?(0,s.transformTextSpan)(u,e,l,t,true,r.isCallHierarchyEnabled)?.[1]:t)).filter((e=>!!e));return{to:n,fromSpans:i}}))}}function organizeImports(e,t){return(n,i,a)=>{const o=t(n,i,a);return(0,s.transformFileTextChanges)(e,o,false,r.isCodeActionsEnabled)}}function getQuickInfoAtPosition(e,t){return(n,i,...c)=>{const f=n.replace(o,"/");const[l,d,u]=(0,a.getServiceScript)(e,f);if(d?.associatedOnly){return undefined}if(l){const n=[];for(const[a]of(0,s.toGeneratedOffsets)(e,l,u,i,r.isHoverEnabled)){const i=t(d.id,a,...c);if(i){const t=(0,s.transformTextSpan)(u,e,l,i.textSpan,true,r.isHoverEnabled)?.[1];if(t){n.push({...i,textSpan:t})}}}if(n.length===1){return n[0]}else if(n.length>=2){const e={...n[0]};e.displayParts=e.displayParts?.slice();e.documentation=e.documentation?.slice();e.tags=e.tags?.slice();const t=new Set([displayPartsToString(n[0].displayParts)]);const r=new Set([displayPartsToString(n[0].documentation)]);const i=new Set;for(const e of n[0].tags??[]){i.add(e.name+"__volar__"+displayPartsToString(e.text))}for(let s=1;s<n.length;s++){const{displayParts:a,documentation:o,tags:c}=n[s];if(a?.length&&!t.has(displayPartsToString(a))){t.add(displayPartsToString(a));e.displayParts??=[];e.displayParts.push({...a[0],text:"\n\n"+a[0].text});e.displayParts.push(...a.slice(1))}if(o?.length&&!r.has(displayPartsToString(o))){r.add(displayPartsToString(o));e.documentation??=[];e.documentation.push({...o[0],text:"\n\n"+o[0].text});e.documentation.push(...o.slice(1))}for(const t of c??[]){if(!i.has(t.name+"__volar__"+displayPartsToString(t.text))){i.add(t.name+"__volar__"+displayPartsToString(t.text));e.tags??=[];e.tags.push(t)}}}return e}}else{return t(f,i,...c)}}}function getSignatureHelpItems(e,t){return(n,i,c)=>{const f=n.replace(o,"/");const[l,d,u]=(0,a.getServiceScript)(e,f);if(d?.associatedOnly){return undefined}if(l){const n=(0,s.toGeneratedOffset)(e,l,u,i,r.isSignatureHelpEnabled);if(n!==undefined){const i=t(d.id,n,c);if(i){const t=(0,s.transformTextSpan)(u,e,l,i.applicableSpan,true,r.isSignatureHelpEnabled)?.[1];if(t){return{...i,applicableSpan:t}}}}}else{return t(f,i,c)}}}function getDocumentHighlights(e,t){return(n,i,a)=>{const c=n.replace(o,"/");const f=linkedCodeFeatureWorker(e,c,i,r.isHighlightEnabled,((e,n)=>t(e,n,a)),(function*(e){for(const t of e){for(const e of t.highlightSpans){yield[e.fileName??t.fileName,e.textSpan.start]}}}));const l=f.flat().map((t=>({...t,highlightSpans:t.highlightSpans.map((n=>{const{textSpan:i}=(0,s.transformSpan)(e,n.fileName??t.fileName,n.textSpan,false,r.isHighlightEnabled)??{};if(i){return{...n,contextSpan:(0,s.transformSpan)(e,n.fileName??t.fileName,n.contextSpan,false,r.isHighlightEnabled)?.textSpan,textSpan:i}}})).filter((e=>!!e))})));return l}}function getApplicableRefactors(e,t){return(n,i,c,f,l,d)=>{const u=n.replace(o,"/");const[g,p,m]=(0,a.getServiceScript)(e,u);if(p?.associatedOnly){return[]}if(g){if(typeof i==="number"){const n=(0,s.toGeneratedOffset)(e,g,m,i,r.isCodeActionsEnabled);if(n!==undefined){return t(p.id,n,c,f,l,d)}}else{for(const[n,a]of(0,s.toGeneratedRanges)(e,g,m,i.pos,i.end,r.isCodeActionsEnabled)){return t(p.id,{pos:n,end:a},c,f,l,d)}}return[]}else{return t(u,i,c,f,l,d)}}}function getEditsForRefactor(e,t){return(n,i,c,f,l,d,u)=>{let g;const p=n.replace(o,"/");const[m,S,h]=(0,a.getServiceScript)(e,p);if(S?.associatedOnly){return undefined}if(m){if(typeof c==="number"){const n=(0,s.toGeneratedOffset)(e,m,h,c,r.isCodeActionsEnabled);if(n!==undefined){g=t(S.id,i,n,f,l,d,u)}}else{for(const[n,a]of(0,s.toGeneratedRanges)(e,m,h,c.pos,c.end,r.isCodeActionsEnabled)){g=t(S.id,i,{pos:n,end:a},f,l,d,u)}}}else{g=t(p,i,c,f,l,d,u)}if(g){g.edits=(0,s.transformFileTextChanges)(e,g.edits,false,r.isCodeActionsEnabled);return g}}}function getCombinedCodeFix(e,t){return(...n)=>{const i=t(...n);i.changes=(0,s.transformFileTextChanges)(e,i.changes,false,r.isCodeActionsEnabled);return i}}function getRenameInfo(e,t){return(n,i,c)=>{const f=n.replace(o,"/");const[l,d,u]=(0,a.getServiceScript)(e,f);if(d?.associatedOnly){return{canRename:false,localizedErrorMessage:"Cannot rename"}}if(l){let n;for(const[a]of(0,s.toGeneratedOffsets)(e,l,u,i,r.isRenameEnabled)){const i=t(d.id,a,c);if(i.canRename){const t=(0,s.transformTextSpan)(u,e,l,i.triggerSpan,false,r.isRenameEnabled)?.[1];if(t){i.triggerSpan=t;return i}}else{n=i}}if(n){return n}return{canRename:false,localizedErrorMessage:"Failed to get rename locations"}}else{return t(f,i,c)}}}function getCodeFixesAtPosition(e,t){return(n,i,c,f,l,d)=>{let u=[];const g=n.replace(o,"/");const[p,m,S]=(0,a.getServiceScript)(e,g);if(m?.associatedOnly){return[]}if(p){const n=(0,s.toGeneratedRange)(e,p,S,i,c,r.isCodeActionsEnabled);if(n!==undefined){u=t(m.id,n[0],n[1],f,l,d)}}else{u=t(g,i,c,f,l,d)}u=u.map((t=>{t.changes=(0,s.transformFileTextChanges)(e,t.changes,false,r.isCodeActionsEnabled);return t}));return u}}function getEncodedSemanticClassifications(e,t){return(n,i,c)=>{const f=n.replace(o,"/");const[l,d,u]=(0,a.getServiceScript)(e,f);if(d?.associatedOnly){return{spans:[],endOfLineState:0}}if(l){const n=e.maps.get(l.code,d);const a=(0,r.findOverlapCodeRange)(i.start,i.start+i.length,n,r.isSemanticTokensEnabled);if(!a){return{spans:[],endOfLineState:0}}const o=(0,s.getMappingOffset)(e,l);const f=a.start+o;const g=a.end+o;const p=t(d.id,{start:f,length:g-f},c);const m=[];for(let t=0;t<p.spans.length;t+=3){for(const[n,i,a]of(0,s.toSourceRanges)(u,e,l,p.spans[t],p.spans[t]+p.spans[t+1],false,r.isSemanticTokensEnabled)){m.push(i,a-i,p.spans[t+2]);break}}p.spans=m;return p}else{return t(f,i,c)}}}function getSyntacticDiagnostics(e,t,n){return r=>{const i=r.replace(o,"/");const[c,f,l]=(0,a.getServiceScript)(e,i);if(f?.associatedOnly){return[]}return n(f?.id??i).map((n=>(0,s.transformDiagnostic)(e,n,t.getProgram(),false))).filter((e=>!!e)).filter((t=>!c||e.scripts.get(t.file.fileName)===l))}}function getSemanticDiagnostics(e,t,n){return r=>{const i=r.replace(o,"/");const[c,f,l]=(0,a.getServiceScript)(e,i);if(f?.associatedOnly){return[]}return n(f?.id??i).map((n=>(0,s.transformDiagnostic)(e,n,t.getProgram(),false))).filter((e=>!!e)).filter((t=>!c||!t.file||e.scripts.get(t.file.fileName)===l))}}function getSuggestionDiagnostics(e,t,n){return r=>{const i=r.replace(o,"/");const[c,f,l]=(0,a.getServiceScript)(e,i);if(f?.associatedOnly){return[]}return n(f?.id??i).map((n=>(0,s.transformDiagnostic)(e,n,t.getProgram(),false))).filter((e=>!!e)).filter((t=>!c||!t.file||e.scripts.get(t.file.fileName)===l))}}function getDefinitionAndBoundSpan(e,t){return(n,a)=>{const c=n.replace(o,"/");const f=linkedCodeFeatureWorker(e,c,a,r.isDefinitionEnabled,((e,n)=>t(e,n)),(function*(e){for(const t of e.definitions??[]){yield[t.fileName,t.textSpan.start]}}));const l=f.map((t=>(0,s.transformSpan)(e,c,t.textSpan,true,r.isDefinitionEnabled)?.textSpan)).filter((e=>!!e))[0];if(!l){return}const d=f.map((t=>t.definitions?.map((t=>(0,s.transformDocumentSpan)(e,t,true,r.isDefinitionEnabled,t.fileName!==c))).filter((e=>!!e))??[])).flat();return{textSpan:l,definitions:(0,i.dedupeDocumentSpans)(d)}}}function findReferences(e,t){return(n,i)=>{const a=n.replace(o,"/");const c=linkedCodeFeatureWorker(e,a,i,r.isReferencesEnabled,((e,n)=>t(e,n)),(function*(e){for(const t of e){for(const e of t.references){yield[e.fileName,e.textSpan.start]}}}));const f=c.flat().map((t=>{const n=(0,s.transformDocumentSpan)(e,t.definition,true,r.isDefinitionEnabled,true);return{definition:n,references:t.references.map((t=>(0,s.transformDocumentSpan)(e,t,true,r.isReferencesEnabled))).filter((e=>!!e))}}));return f}}function getDefinitionAtPosition(e,t){return(n,a)=>{const c=n.replace(o,"/");const f=linkedCodeFeatureWorker(e,c,a,r.isDefinitionEnabled,((e,n)=>t(e,n)),(function*(e){for(const t of e){yield[t.fileName,t.textSpan.start]}}));const l=f.flat().map((t=>(0,s.transformDocumentSpan)(e,t,true,r.isDefinitionEnabled,t.fileName!==c))).filter((e=>!!e));return(0,i.dedupeDocumentSpans)(l)}}function getTypeDefinitionAtPosition(e,t){return(n,a)=>{const c=n.replace(o,"/");const f=linkedCodeFeatureWorker(e,c,a,r.isTypeDefinitionEnabled,((e,n)=>t(e,n)),(function*(e){for(const t of e){yield[t.fileName,t.textSpan.start]}}));const l=f.flat().map((t=>(0,s.transformDocumentSpan)(e,t,true,r.isTypeDefinitionEnabled))).filter((e=>!!e));return(0,i.dedupeDocumentSpans)(l)}}function getImplementationAtPosition(e,t){return(n,a)=>{const c=n.replace(o,"/");const f=linkedCodeFeatureWorker(e,c,a,r.isImplementationEnabled,((e,n)=>t(e,n)),(function*(e){for(const t of e){yield[t.fileName,t.textSpan.start]}}));const l=f.flat().map((t=>(0,s.transformDocumentSpan)(e,t,true,r.isImplementationEnabled))).filter((e=>!!e));return(0,i.dedupeDocumentSpans)(l)}}function findRenameLocations(e,t){return(n,a,c,f,l)=>{const d=n.replace(o,"/");const u=linkedCodeFeatureWorker(e,d,a,r.isRenameEnabled,((e,n)=>t(e,n,c,f,l)),(function*(e){for(const t of e){yield[t.fileName,t.textSpan.start]}}));const g=u.flat().map((t=>(0,s.transformDocumentSpan)(e,t,false,r.isRenameEnabled))).filter((e=>!!e));return(0,i.dedupeDocumentSpans)(g)}}function getReferencesAtPosition(e,t){return(n,a)=>{const c=n.replace(o,"/");const f=linkedCodeFeatureWorker(e,c,a,r.isReferencesEnabled,((e,n)=>t(e,n)),(function*(e){for(const t of e){yield[t.fileName,t.textSpan.start]}}));const l=f.flat().map((t=>(0,s.transformDocumentSpan)(e,t,true,r.isReferencesEnabled))).filter((e=>!!e));return(0,i.dedupeDocumentSpans)(l)}}function getCompletionsAtPosition(e,t){return(n,i,c,f)=>{const l=n.replace(o,"/");const[d,u,g]=(0,a.getServiceScript)(e,l);if(u?.associatedOnly){return undefined}if(d){let n;const a=[];for(const[o,l]of(0,s.toGeneratedOffsets)(e,d,g,i,r.isCompletionEnabled)){const i=typeof l.data.completion==="object"&&l.data.completion.isAdditional;if(!i&&n?.entries.length){continue}const p=t(u.id,o,c,f);if(!p){continue}if(typeof l.data.completion==="object"&&l.data.completion.onlyImport){p.entries=p.entries.filter((e=>!!e.sourceDisplay))}for(const t of p.entries){t.replacementSpan=t.replacementSpan&&(0,s.transformTextSpan)(g,e,d,t.replacementSpan,false,r.isCompletionEnabled)?.[1]}p.optionalReplacementSpan=p.optionalReplacementSpan&&(0,s.transformTextSpan)(g,e,d,p.optionalReplacementSpan,false,r.isCompletionEnabled)?.[1];if(i){a.push(p)}else{n=p}}const o=a;if(n){o.unshift(n)}if(o.length){return{...o[0],entries:o.map((e=>e.entries)).flat()}}}else{return t(l,i,c,f)}}}function getCompletionEntryDetails(e,t){return(n,i,c,f,l,d,u)=>{let g;const p=n.replace(o,"/");const[m,S,h]=(0,a.getServiceScript)(e,p);if(S?.associatedOnly){return undefined}if(m){const n=(0,s.toGeneratedOffset)(e,m,h,i,r.isCompletionEnabled);if(n!==undefined){g=t(S.id,n,c,f,l,d,u)}}else{return t(p,i,c,f,l,d,u)}if(g?.codeActions){for(const t of g.codeActions){t.changes=(0,s.transformFileTextChanges)(e,t.changes,false,r.isCompletionEnabled)}}return g}}function provideInlayHints(e,t){return(n,i,c)=>{const f=n.replace(o,"/");const[l,d,u]=(0,a.getServiceScript)(e,f);if(d?.associatedOnly){return[]}if(l){const n=e.maps.get(l.code,u);const a=(0,r.findOverlapCodeRange)(i.start,i.start+i.length,n,r.isSemanticTokensEnabled);if(!a){return[]}const o=(0,s.getMappingOffset)(e,l);const f=a.start+o;const g=a.end+o;const p=t(d.id,{start:f,length:g-f},c);const m=[];for(const t of p){const n=(0,s.toSourceOffset)(u,e,l,t.position,r.isInlayHintsEnabled);if(n!==undefined){m.push({...t,position:n[1]})}}return m}else{return t(f,i,c)}}}function getFileReferences(e,t){return n=>{const a=n.replace(o,"/");const c=t(a);const f=c.map((t=>(0,s.transformDocumentSpan)(e,t,true,r.isReferencesEnabled))).filter((e=>!!e));return(0,i.dedupeDocumentSpans)(f)}}function getNavigateToItems(e,t){return(...n)=>{const a=t(...n);const o=a.map((t=>(0,s.transformDocumentSpan)(e,t,true,r.isReferencesEnabled))).filter((e=>!!e));return(0,i.dedupeDocumentSpans)(o)}}function linkedCodeFeatureWorker(e,t,n,r,i,o){const c=[];const f=new Set;const[l,d,u]=(0,a.getServiceScript)(e,t);if(l){for(const[t]of(0,s.toGeneratedOffsets)(e,l,u,n,r)){process(d.id,t)}}else{process(t,n)}return c;function process(t,n){if(f.has(t+":"+n)){return}f.add(t+":"+n);const r=i(t,n);if(!r){return}c.push(r);for(const t of o(r)){f.add(t[0]+":"+t[1]);const[n]=(0,a.getServiceScript)(e,t[0]);if(!n){continue}const r=e.linkedCodeMaps.get(n.code);if(!r){continue}const i=(0,s.getMappingOffset)(e,n);for(const e of r.getLinkedOffsets(t[1]-i)){process(t[0],e+i)}}}}function displayPartsToString(e){if(e){return e.map((e=>e.text)).join("")}return""}},405:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:true});t.transformCallHierarchyItem=transformCallHierarchyItem;t.transformDiagnostic=transformDiagnostic;t.fillSourceFileText=fillSourceFileText;t.transformFileTextChanges=transformFileTextChanges;t.transformDocumentSpan=transformDocumentSpan;t.transformSpan=transformSpan;t.transformTextChange=transformTextChange;t.transformTextSpan=transformTextSpan;t.toSourceOffset=toSourceOffset;t.toSourceRanges=toSourceRanges;t.toSourceOffsets=toSourceOffsets;t.toGeneratedRange=toGeneratedRange;t.toGeneratedRanges=toGeneratedRanges;t.toGeneratedOffset=toGeneratedOffset;t.toGeneratedOffsets=toGeneratedOffsets;t.getMappingOffset=getMappingOffset;const r=n(575);const i=n(316);const s=new WeakMap;const a=new WeakSet;function transformCallHierarchyItem(e,t,n,r){const i=transformSpan(e,t.file,t.span,n,r);const s=transformSpan(e,t.file,t.selectionSpan,n,r);return{...t,file:i?.fileName??t.file,span:i?.textSpan??{start:0,length:0},selectionSpan:s?.textSpan??{start:0,length:0}}}function transformDiagnostic(e,t,n,a){if(!s.has(t)){s.set(t,undefined);const{relatedInformation:o}=t;if(o){t.relatedInformation=o.map((t=>transformDiagnostic(e,t,n,a))).filter((e=>!!e))}if(t.file!==undefined&&t.start!==undefined&&t.length!==undefined){const[o]=(0,i.getServiceScript)(e,t.file.fileName);if(o){const[i,c]=transformTextSpan(undefined,e,o,{start:t.start,length:t.length},true,(e=>(0,r.shouldReportDiagnostics)(e,String(t.source),String(t.code))))??[];const f=i?t.file.fileName===i?t.file:n?.getSourceFile(i):undefined;if(c&&f){if(a){fillSourceFileText(e,t.file)}s.set(t,{...t,file:f,start:c.start,length:c.length})}}else{s.set(t,t)}}else{s.set(t,t)}}return s.get(t)}function fillSourceFileText(e,t){if(a.has(t)){return}a.add(t);const[n]=(0,i.getServiceScript)(e,t.fileName);if(n&&!n.preventLeadingOffset){const r=e.scripts.fromVirtualCode(n.code);t.text=r.snapshot.getText(0,r.snapshot.getLength())+t.text.substring(r.snapshot.getLength())}}function transformFileTextChanges(e,t,n,r){const s={};const a=new Set;for(const o of t){const[t,c]=(0,i.getServiceScript)(e,o.fileName);if(c){o.textChanges.forEach((t=>{const{fileName:i,textSpan:a}=transformSpan(e,o.fileName,t.span,n,r)??{};if(i&&a){(s[i]??(s[i]=[])).push({...t,span:a})}}))}else{const e=s[o.fileName]??(s[o.fileName]=[]);o.textChanges.forEach((t=>{e.push(t)}));if(o.isNewFile){a.add(o.fileName)}}}const o=[];for(const e in s){o.push({fileName:e,isNewFile:a.has(e),textChanges:s[e]})}return o}function transformDocumentSpan(e,t,n,r,i){let s=transformSpan(e,t.fileName,t.textSpan,n,r);if(!s&&i){s={fileName:t.fileName,textSpan:{start:0,length:0}}}if(!s){return}const a=transformSpan(e,t.fileName,t.contextSpan,n,r);const o=transformSpan(e,t.originalFileName,t.originalTextSpan,n,r);const c=transformSpan(e,t.originalFileName,t.originalContextSpan,n,r);return{...t,fileName:s.fileName,textSpan:s.textSpan,contextSpan:a?.textSpan,originalFileName:o?.fileName,originalTextSpan:o?.textSpan,originalContextSpan:c?.textSpan}}function transformSpan(e,t,n,r,s){if(!t||!n){return}const[a]=(0,i.getServiceScript)(e,t);if(a){const[t,i]=transformTextSpan(undefined,e,a,n,r,s)??[];if(i&&t){return{fileName:t,textSpan:i}}}else{return{fileName:t,textSpan:n}}}function transformTextChange(e,t,n,r,i,s){const[a,o]=transformTextSpan(e,t,n,r.span,i,s)??[];if(o&&a){return[a,{newText:r.newText,span:o}]}return undefined}function transformTextSpan(e,t,n,r,i,s){const a=r.start;const o=r.start+r.length;for(const[r,c,f]of toSourceRanges(e,t,n,a,o,i,s)){return[r,{start:c,length:f-c}]}}function toSourceOffset(e,t,n,r,i){for(const s of toSourceOffsets(e,t,n,r,i)){return s}}function*toSourceRanges(e,t,n,r,i,s,a){if(e){const o=t.maps.get(n.code,e);for(const[c,f]of o.toSourceRange(r-getMappingOffset(t,n),i-getMappingOffset(t,n),s,a)){yield[e.id,c,f]}}else{for(const[e,o]of t.maps.forEach(n.code)){for(const[c,f]of o.toSourceRange(r-getMappingOffset(t,n),i-getMappingOffset(t,n),s,a)){yield[e.id,c,f]}}}}function*toSourceOffsets(e,t,n,r,i){if(e){const s=t.maps.get(n.code,e);for(const[a,o]of s.toSourceLocation(r-getMappingOffset(t,n))){if(i(o.data)){yield[e.id,a]}}}else{for(const[e,s]of t.maps.forEach(n.code)){for(const[a,o]of s.toSourceLocation(r-getMappingOffset(t,n))){if(i(o.data)){yield[e.id,a]}}}}}function toGeneratedRange(e,t,n,r,i,s){for(const a of toGeneratedRanges(e,t,n,r,i,s)){return a}}function*toGeneratedRanges(e,t,n,r,i,s){const a=e.maps.get(t.code,n);for(const[n,o]of a.toGeneratedRange(r,i,true,s)){yield[n+getMappingOffset(e,t),o+getMappingOffset(e,t)]}}function toGeneratedOffset(e,t,n,r,i){for(const[s]of toGeneratedOffsets(e,t,n,r,i)){return s}}function*toGeneratedOffsets(e,t,n,r,i){const s=e.maps.get(t.code,n);for(const[n,a]of s.toGeneratedLocation(r)){if(i(a.data)){yield[n+getMappingOffset(e,t),a]}}}function getMappingOffset(e,t){if(t.preventLeadingOffset){return 0}const n=e.scripts.fromVirtualCode(t.code);return n.snapshot.getLength()}},316:(e,t)=>{Object.defineProperty(t,"__esModule",{value:true});t.getServiceScript=getServiceScript;t.fixupImpliedNodeFormatForFile=fixupImpliedNodeFormatForFile;function getServiceScript(e,t){const n=e.scripts.get(t);if(n?.targetIds.size){for(const t of n.targetIds){const r=e.scripts.get(t);if(r?.generated){const e=r.generated.languagePlugin.typescript?.getServiceScript(r.generated.root);if(e){return[e,r,n]}}}}if(n?.associatedOnly){return[undefined,n,n]}if(n?.generated){const e=n.generated.languagePlugin.typescript?.getServiceScript(n.generated.root);if(e){return[e,n,n]}}return[undefined,undefined,undefined]}function fixupImpliedNodeFormatForFile(e,t,n,r,i,s){if(n.impliedNodeFormat!==undefined||!t.some((e=>n.fileName.endsWith(e)))){return}const a=[".d.ts",".ts",".tsx",".js",".jsx"];if(a.some((e=>n.fileName.endsWith(e)))){return}const o=n.fileName+".ts";const c=e.getImpliedNodeFormatForFileWorker?.(o,r,i,s)?.impliedNodeFormat;if(c===undefined){return}n.impliedNodeFormat=c;return()=>n.impliedNodeFormat=undefined}},350:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:true});t.createLanguageServicePlugin=createLanguageServicePlugin;const r=n(340);const i=n(139);function createLanguageServicePlugin(e){return t=>{const{typescript:n}=t;const s={create(t){if(!(0,i.isHasAlreadyDecoratedLanguageService)(t)){const s=e(n,t);const a=s.languagePlugins.map((e=>e.typescript?.extraFileExtensions.map((e=>"."+e.extension))??[])).flat();i.projectExternalFileExtensions.set(t.project,a);const{proxy:o,initialize:c}=(0,r.createProxyLanguageService)(t.languageService);t.languageService=o;(0,i.createLanguageCommon)(s,n,t,c)}return t.languageService},getExternalFiles:(0,i.makeGetExternalFiles)(n)};return s}}},139:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:true});t.makeGetExternalFiles=t.decoratedLanguageServiceHosts=t.decoratedLanguageServices=t.projectExternalFileExtensions=t.externalFiles=void 0;t.makeGetScriptInfoWithLargeFileFailsafe=makeGetScriptInfoWithLargeFileFailsafe;t.createLanguageCommon=createLanguageCommon;t.isHasAlreadyDecoratedLanguageService=isHasAlreadyDecoratedLanguageService;const r=n(575);const i=n(311);const s=n(279);t.externalFiles=new WeakMap;t.projectExternalFileExtensions=new WeakMap;t.decoratedLanguageServices=new WeakSet;t.decoratedLanguageServiceHosts=new WeakSet;function makeGetScriptInfoWithLargeFileFailsafe(e){return t=>{try{return e.project.getScriptInfo(t)}catch{}}}function createLanguageCommon(e,t,n,a){const o=n.languageServiceHost.getScriptSnapshot.bind(n.languageServiceHost);const c=makeGetScriptInfoWithLargeFileFailsafe(n);const f=(0,r.createLanguage)([...e.languagePlugins,{getLanguageId:i.resolveFileLanguageId}],new r.FileMap(t.sys.useCaseSensitiveFileNames),((e,t,r)=>{let i;if(r){i=o(e)}else{i=c(e)?.getSnapshot();if(!i){n.project.getScriptVersion(e);i=c(e)?.getSnapshot()}}if(i){f.scripts.set(e,i)}else{f.scripts.delete(e)}}),(e=>{n.session.change({file:e,line:1,offset:1,endLine:1,endOffset:1,insertString:""})}));a(f);(0,s.decorateLanguageServiceHost)(t,f,n.languageServiceHost);e.setup?.(f)}const makeGetExternalFiles=e=>(n,r=0)=>{if(r>=1||!t.externalFiles.has(n)){const r=t.externalFiles.get(n);const i=t.projectExternalFileExtensions.get(n);const a=i?.length?(0,s.searchExternalFiles)(e,n,i):[];t.externalFiles.set(n,a);if(r&&!arrayItemsEqual(r,a)){n.refreshDiagnostics()}}return t.externalFiles.get(n)};t.makeGetExternalFiles=makeGetExternalFiles;function arrayItemsEqual(e,t){if(e.length!==t.length){return false}const n=new Set(e);for(const e of t){if(!n.has(e)){return false}}return true}function isHasAlreadyDecoratedLanguageService(e){if(t.decoratedLanguageServices.has(e.languageService)||t.decoratedLanguageServiceHosts.has(e.languageServiceHost)){return true}else{t.decoratedLanguageServices.add(e.languageService);t.decoratedLanguageServiceHosts.add(e.languageServiceHost);return false}}},23:(e,t)=>{Object.defineProperty(t,"__esModule",{value:true});t.createResolveModuleName=createResolveModuleName;function createResolveModuleName(e,t,n,r,i){const s=new Map;const a={readFile:n.readFile.bind(n),directoryExists:n.directoryExists?.bind(n),realpath:n.realpath?.bind(n),getCurrentDirectory:n.getCurrentDirectory?.bind(n),getDirectories:n.getDirectories?.bind(n),useCaseSensitiveFileNames:typeof n.useCaseSensitiveFileNames==="function"?n.useCaseSensitiveFileNames.bind(n):n.useCaseSensitiveFileNames,fileExists(e){const t=n.fileExists(e);for(const{typescript:n}of r){if(!n){continue}if(!t){for(const{extension:t}of n.extraFileExtensions){if(!e.endsWith(`.d.${t}.ts`)){continue}const n=e.slice(0,-`.d.${t}.ts`.length)+`.${t}`;if(fileExists(n)){const t=i(n);if(t?.generated){const r=t.generated.languagePlugin.typescript?.getServiceScript(t.generated.root);if(r){const t=n+".d.ts";if((r.extension===".js"||r.extension===".jsx")&&fileExists(t)){s.set(e,{sourceFileName:t,extension:".ts"})}else{s.set(e,{sourceFileName:n,extension:r.extension})}return true}}}}}if(n.resolveHiddenExtensions&&e.endsWith(`.d.ts`)){for(const{extension:t}of n.extraFileExtensions){const n=e.slice(0,-`.d.ts`.length)+`.${t}`;if(fileExists(n)){const t=i(n);if(t?.generated){const r=t.generated.languagePlugin.typescript?.getServiceScript(t.generated.root);if(r){s.set(e,{sourceFileName:n,extension:r.extension});return true}}}}}}return t}};return(t,n,r,i,o,c)=>{const f=e.resolveModuleName(t,n,r,a,i,o,c);if(f.resolvedModule){const e=s.get(f.resolvedModule.resolvedFileName);if(e){f.resolvedModule.resolvedFileName=e.sourceFileName;f.resolvedModule.extension=e.extension}}s.clear();return f};function fileExists(e){if(n.fileExists(e)){const r=t?.(e)??n.readFile(e)?.length??0;return r<4*1024*1024}return false}}},167:(e,t)=>{Object.defineProperty(t,"__esModule",{value:true});t.decorateIdeLanguageServiceExtensions=decorateIdeLanguageServiceExtensions;function decorateIdeLanguageServiceExtensions(e,t){const{webStormGetElementType:n,webStormGetTypeProperties:r,webStormGetTypeProperty:i,webStormGetSymbolType:s}=t;if(n===undefined||r===undefined||i===undefined||s===undefined)return;t.webStormGetElementType=e=>n(e);t.webStormGetSymbolType=e=>s(Object.assign({},e));t.webStormGetTypeProperties=e=>r(Object.assign({},e));t.webStormGetTypeProperty=e=>i(Object.assign({},e))}},407:(e,t,n)=>{const r=n(167);const i=n(350);function loadLanguagePlugins(e,t){return{languagePlugins:[],setup(e){(0,r.decorateIdeLanguageServiceExtensions)(e,t.languageService)}}}const s=(0,i.createLanguageServicePlugin)(loadLanguagePlugins);e.exports=s}};var t={};function __nccwpck_require__(n){var r=t[n];if(r!==undefined){return r.exports}var i=t[n]={exports:{}};var s=true;try{e[n].call(i.exports,i,i.exports,__nccwpck_require__);s=false}finally{if(s)delete t[n]}return i.exports}if(typeof __nccwpck_require__!=="undefined")__nccwpck_require__.ab=__dirname+"/";var n=__nccwpck_require__(407);module.exports=n})();